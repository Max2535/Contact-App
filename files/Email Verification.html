<p>Since version 5.7 Laravel has introduced&nbsp; Email verification and Account activation out of the box. These features force registered users to activate their accounts before accessing certain routes by hitting the verification code that sent to their emails.</p><p>These feature is not active by default. To make it active you&nbsp; can follow these steps.</p><p><br></p><h4>Step 1 - Implement <code>mustVerifyEmail</code> interface in the User model</h4><p>Open your <code>User</code> model and implement the <code>mustVerifyEmail</code> interface like this:</p><pre class="prettyprint linenums">class User extends Authenticatable implements MustVerifyEmail
{
&nbsp; &nbsp; use Notifiable;
&nbsp; 	...
}</pre><p><br></p><h4>Step 2 - Enable Verification Route</h4><p>Open your <code>routes/web.php</code> and specify <code>verify</code> option in <code>Auth::routes</code> as follow:</p><pre class="prettyprint linenums">Auth::routes(['verify' =&gt; true]);</pre><p>Now if you go to your terminal and type <code>php artisan route:list --name=verification -c</code> you'll see three routes listed.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/article_lecture/2022-01-08_12-35-09-43d4d86fa0744027b3d7323088bc42aa.png"></figure><p><br></p><h4>Step 3 - Protect your route</h4><p>If you open <code>app/Http/Kernel.php</code> then go to <code>routeMiddleware</code> property, you will find the <code>verified</code> middleware which is map to <code>EnsureEmailIsVerified</code>.</p><pre class="prettyprint linenums">protected $routeMiddleware = [
&nbsp; // ...
&nbsp; 'verified' =&gt; \Illuminate\Auth\Middleware\EnsureEmailIsVerified::class,
];</pre><p>You can protect particular route(s) by using the&nbsp; middleware&nbsp; in <code>web.php</code> file like so:</p><pre class="prettyprint linenums">Route::middleware(['auth', 'verified'])-&gt;group(function () {
	&nbsp; Route::get('/contacts', 'ContactController@index')-&gt;name('contacts.index');
&nbsp; &nbsp; Route::post('/contacts', 'ContactController@store')-&gt;name('contacts.store');
&nbsp; 	// ...
});</pre><p>Or you can do that in the controller's constructor like this:</p><pre class="prettyprint linenums">class ContactController extends Controller
{
&nbsp; &nbsp; public function __construct()
&nbsp; &nbsp; {
&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;middleware(['auth', 'verified']);
&nbsp; &nbsp; }
&nbsp; 	// ...
}</pre><p><br></p><h4>Step 4 - Setup Email Credentials</h4><p>In the previous lesson we've set the <code>MAIL_MAILER</code> to the <code>log</code> to catch the email that is going to be sent inside the <code>*.log</code> file. But for more realistic scenario you can set it back to <code>smtp</code>. By default Laravel use <code>mailhog</code> (formerly <code>smtp.mailtrap.io</code>) as the host address of the SMTP server.</p><p>In order to make it work you need to install the <a href="https://github.com/mailhog/MailHog" rel="noopener noreferrer" target="_blank">mailhog</a> in your machine. However in this guide we'll be using <a href="https://mailtrap.io/" rel="noopener noreferrer" target="_blank">mailtrap</a>.</p><p>During your development using <strong>mailtrap</strong> to capture your email is perfectly fine. Just go to <code>mailtrap.io</code> then register an account. Once you've registered you can choose your inbox, then go to <strong>SMTP Settings</strong>.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-10_12-12-35-d38234d8d324378889e1ee5adbae977d.png"></figure><p>Copy username and password in the <strong>credentials</strong> section and paste to your <code>.env</code> file.</p><pre class="prettyprint linenums">MAIL_DRIVER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=your-user-email
MAIL_PASSWORD=your-password-email
MAIL_ENCRYPTION=null</pre><p>Save all changes and don't forget to restart your server if you're using php built-in server to apply the changes.</p><p><br></p><h4>Step 5 - Test Email Verification functionality</h4><p>You can test the Email Verification functionality by accessing the <strong>All Contacts</strong> page. Since you applied the <code>verified</code> middleware you'll be redirected to <strong>Verify Your Email Address</strong> page.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-10_12-13-09-f3689dfa1e776a6b942bb88d1cf8b597.png"></figure><p>Under the hood Laravel authentication will check the <code>email_verified_at</code> of the current user in the <code>users</code> table. If it was empty it means you have not verified your email.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-10_12-13-40-f797247c7768ba28dd67113b4c96b836.png"></figure><p>You can hit the <strong>click here to request another</strong> link to send a verification link to your email.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-10_12-14-28-990164c059a145352d720cbee391fac2.png"></figure><p>If you open your inbox in Mailtrap, you'll find verification email comes in. You can then hit the <strong>Verify Email Address</strong> button to verify your account.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-10_12-15-07-a850d697a05f4fff20e48d1535fe330c.png"></figure><p>Once you hit that link your account will be verified and you'll be taken to the <code>dashboard</code> page.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-10_12-15-42-602cd38596a1456f5f78c8dcc0ba42c0.png"></figure><p>Also if you take a look at <code>users</code> table, the <code>email_verified_at</code> column now has been set with date and time where you verified your email.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-10_12-16-09-9390859f59f4d247ed9c445e835dd07d.png"></figure>