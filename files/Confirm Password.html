<p>In version 6.x Laravel added new feature in the Authentication System to force user to confirm their password before accessing a certain page in your application. For example, you may require this before the user perform any payment or modifies their account settings within the application.</p><p>In you open the <code>app/Http/Kernel.php</code> you will find in the <code>routeMiddleware</code> array the <code>password.confirm</code> middleware has been defined.</p><pre class="prettyprint linenums">protected $routeMiddleware = [
 &nbsp; &nbsp;// ....
 &nbsp; &nbsp;'password.confirm' =&gt; \Illuminate\Auth\Middleware\RequirePassword::class,
 &nbsp; &nbsp;// ...
];</pre><p>If you apply this middleware in your resource, the authenticated user that try to access the resource will be redirected to <strong>Confirm Password</strong> page. If you take a look at your routes, you'll find a <code>password.confirm</code> route which point to <code>Controller/Auth/ConfirmPasswordController@showConfirmForm</code>.</p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-15_10-48-07-89f5985c89ded612c75424a16719c20f.png"></figure><p>Now let's see how to implement the <code>password.confirm</code> middleware in our application.</p><h4>1. Create a new Controller</h4><p>Let's create a new controller by running this command in our terminal.</p><pre class="prettyprint linenums">php artisan make:controller Settings\\AccountController</pre><p>This command will generate a brand new controller called <code>AccountController</code> inside the <code>Settings</code> folder. I did this because I have a plan to add more settings in the future such as <strong>Profile</strong>, <strong>Import &amp; Export</strong> that you can find in the Application template that I have provided in the course resource.</p><p><br></p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-15_10-48-43-67d2729d52944820ece8d84b25a9bb5f.png"></figure><p>Now, let's open up the <code>AccountController</code>, then write some code like this.</p><pre class="prettyprint linenums">class AccountController extends Controller
{
&nbsp; &nbsp; public function index()
&nbsp; &nbsp; {
&nbsp; &nbsp; &nbsp; &nbsp; return "&lt;h1&gt;Account Settings&lt;/h1&gt;";
&nbsp; &nbsp; }
}</pre><p>For now I only return a string in the <code>index</code> method. In other lesson of this course we will come back here and build the complete feature.</p><p><br></p><h4>2. Define a route for the AccountController</h4><p>Let's open the <code>web.php</code> file then add a new route for the Account Controller.</p><pre class="prettyprint linenums">Route::get('/settings/account', [AccountController::class, 'index']);</pre><p>Don't forget to import the <code>AccountController</code> namespace at the top of the file.</p><pre class="prettyprint linenums">use App\Http\Controllers\Settings\AccountController;</pre><p>If we now access the <code>settings/account</code> route in our browser, we'll get the <strong>Account Settings</strong> page on the screen.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-15_10-49-19-29050b954e43e66bd59839e35ca22b09.png"></figure><p><br></p><h4>3. Implement the <code>password.confirm</code></h4><p>To implement the <code>password.confirm</code> you can do in the route definition or in controller's constructor. In this case I'll do that in the controller's constructor. In <code>AccountController</code> we call the <code>auth</code> middleware to ensure that this page can be accessed by authenticated user. We then also call <code>password.confirm</code> middleware to force the authenticated user to confirm their password.</p><pre class="prettyprint linenums">class AccountController extends Controller
{
&nbsp; &nbsp; public function __construct()
&nbsp; &nbsp; {
&nbsp; &nbsp; &nbsp; &nbsp; $this-&gt;middleware(['auth', 'password.confirm']);
&nbsp; &nbsp; }

&nbsp; &nbsp; public function index()
&nbsp; &nbsp; {
&nbsp; &nbsp; &nbsp; &nbsp; return "&lt;h1&gt;Account Settings&lt;/h1&gt;";
&nbsp; &nbsp; }
}</pre><p>Now If you now revisit the <code>settings/account</code> route in your browser, you will be taken to <strong>Confirm Password</strong> page.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-15_10-49-52-f8bafbad7692264b2208d3396d8535c5.png"></figure><p>If you can still access the <strong>Account Setting</strong> page, probably you've just login to your app. You will not be asked to confirm their password again for three hours. You can configure the length of time by changing the value of the <code>password_timeout</code> in your <code>config/auth.php</code> file.</p><p><br></p><pre class="prettyprint linenums"> 'password_timeout' =&gt; 10800,</pre><p>Once you enter your password correctly, you will be redirected back to the <strong>Account Settings</strong> page.</p><figure><img src="https://img-c.udemycdn.com/redactor/raw/2020-01-15_10-50-51-e1c3bd8af8b552613488e641afa3b1c2.png"></figure>